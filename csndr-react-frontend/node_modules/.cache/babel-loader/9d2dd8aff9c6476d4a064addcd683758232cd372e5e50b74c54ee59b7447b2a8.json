{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp64\\\\www\\\\CSNDR projet\\\\csndr-react-frontend\\\\src\\\\components\\\\UserManagement.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Plus, Trash2, Edit } from 'lucide-react';\nimport Modal from './Modal';\nimport RoleBadge from './RoleBadge';\nimport { getUsers, createUser, deleteUser, updateUser } from '../services/api';\nimport Toast from './Toast';\nimport ConfirmDialog from './ConfirmDialog';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserManagement = ({\n  user\n}) => {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [editingUser, setEditingUser] = useState(null);\n  const [formData, setFormData] = useState({\n    nom: '',\n    prenom: '',\n    email: '',\n    mot_de_passe: '',\n    role: 'eleve',\n    classe_id: '',\n    parent_id: ''\n  });\n  const [submitting, setSubmitting] = useState(false);\n  const [toast, setToast] = useState({\n    open: false,\n    type: 'success',\n    message: ''\n  });\n  const [confirm, setConfirm] = useState({\n    open: false,\n    id: null\n  });\n  const [error, setError] = useState(null);\n  const loadUsers = async () => {\n    try {\n      const response = await getUsers();\n      setUsers(response.data);\n    } catch (err) {\n      console.error(err);\n      setToast({\n        open: true,\n        type: 'error',\n        message: \"Erreur lors de la récupération des utilisateurs\"\n      });\n    }\n  };\n  useEffect(() => {\n    loadUsers();\n  }, []);\n\n  // Ouvre le modal pour création/édition\n  const openModal = (user = null) => {\n    setEditingUser(user);\n    setFormData(user || {\n      nom: '',\n      prenom: '',\n      email: '',\n      mot_de_passe: '',\n      role: 'eleve',\n      classe_id: '',\n      parent_id: ''\n    });\n    setIsModalOpen(true);\n  };\n\n  // Gestion du formulaire\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formDataObj = new FormData(e.target);\n    const userData = {\n      nom: formDataObj.get('nom'),\n      prenom: formDataObj.get('prenom'),\n      email: formDataObj.get('email'),\n      mot_de_passe: formDataObj.get('mot_de_passe'),\n      role: formDataObj.get('role'),\n      classe_id: formDataObj.get('classe_id') || null,\n      parent_id: formDataObj.get('parent_id') || null\n    };\n    try {\n      setSubmitting(true);\n      if (editingUser) {\n        // Modification d'un utilisateur existant\n        await updateUser(editingUser.id, userData);\n        setToast({\n          open: true,\n          type: 'success',\n          message: \"Utilisateur modifié avec succès\"\n        });\n      } else {\n        // Création d'un nouvel utilisateur\n        await createUser(userData);\n        setToast({\n          open: true,\n          type: 'success',\n          message: \"Utilisateur créé avec succès\"\n        });\n      }\n      setIsModalOpen(false);\n      setEditingUser(null);\n      setFormData({\n        nom: '',\n        prenom: '',\n        email: '',\n        mot_de_passe: '',\n        role: 'eleve',\n        classe_id: '',\n        parent_id: ''\n      });\n      loadUsers();\n    } catch (error) {\n      console.error('Erreur:', error);\n      setToast({\n        open: true,\n        type: 'error',\n        message: \"Erreur lors de la sauvegarde de l'utilisateur\"\n      });\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Suppression d'un utilisateur\n  const handleDelete = userId => {\n    setConfirm({\n      open: true,\n      id: userId\n    });\n  };\n  const confirmDelete = async () => {\n    try {\n      const userId = confirm.id;\n      setConfirm({\n        open: false,\n        id: null\n      });\n      await deleteUser(userId);\n      await loadUsers();\n      setToast({\n        open: true,\n        type: 'success',\n        message: 'Utilisateur supprimé'\n      });\n    } catch (err) {\n      console.error(err);\n      setToast({\n        open: true,\n        type: 'error',\n        message: 'Erreur lors de la suppression de l\\'utilisateur'\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 sm:p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl sm:text-2xl font-semibold text-title\",\n        children: \"Gestion des utilisateurs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => openModal(),\n        className: \"flex items-center gap-2 btn-primary mt-4 sm:mt-0\",\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), \"Nouvel utilisateur\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\",\n      children: users.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card border-[var(--vert-accent)]\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-start mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg sm:text-xl font-semibold text-title\",\n              children: [user.prenom, \" \", user.nom]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-body\",\n              children: user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => openModal(user),\n              className: \"text-[var(--bleu-principal)] hover:text-opacity-80\",\n              children: /*#__PURE__*/_jsxDEV(Edit, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDelete(user.id),\n              className: \"text-[var(--rouge-erreur)] hover:text-opacity-80\",\n              children: /*#__PURE__*/_jsxDEV(Trash2, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(RoleBadge, {\n            role: user.role\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"ID: \", user.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this), user.classe_id && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Classe ID: \", user.classe_id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 36\n            }, this), user.parent_id && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Parent ID: \", user.parent_id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 36\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this)]\n      }, user.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isModalOpen,\n      onClose: () => {\n        setIsModalOpen(false);\n        setEditingUser(null);\n        setFormData({\n          nom: '',\n          prenom: '',\n          email: '',\n          mot_de_passe: '',\n          role: 'eleve',\n          classe_id: '',\n          parent_id: ''\n        });\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: editingUser ? 'Modifier l\\'utilisateur' : 'Nouvel utilisateur'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 sm:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Nom\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"nom\",\n                value: formData.nom,\n                onChange: e => setFormData({\n                  ...formData,\n                  nom: e.target.value\n                }),\n                required: true,\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\",\n                placeholder: \"Nom de famille\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Pr\\xE9nom\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"prenom\",\n                value: formData.prenom,\n                onChange: e => setFormData({\n                  ...formData,\n                  prenom: e.target.value\n                }),\n                required: true,\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\",\n                placeholder: \"Pr\\xE9nom\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              value: formData.email,\n              onChange: e => setFormData({\n                ...formData,\n                email: e.target.value\n              }),\n              required: true,\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\",\n              placeholder: \"email@exemple.com\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Mot de passe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"mot_de_passe\",\n              value: formData.mot_de_passe,\n              onChange: e => setFormData({\n                ...formData,\n                mot_de_passe: e.target.value\n              }),\n              required: true,\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\",\n              placeholder: \"Mot de passe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"R\\xF4le\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"role\",\n              value: formData.role,\n              onChange: e => setFormData({\n                ...formData,\n                role: e.target.value\n              }),\n              required: true,\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"admin\",\n                children: \"Administrateur\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"professeur\",\n                children: \"Professeur\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"parent\",\n                children: \"Parent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"eleve\",\n                children: \"\\xC9l\\xE8ve\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 sm:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Classe ID (optionnel)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"classe_id\",\n                value: formData.classe_id,\n                onChange: e => setFormData({\n                  ...formData,\n                  classe_id: e.target.value\n                }),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\",\n                placeholder: \"ID de la classe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Parent ID (optionnel)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"parent_id\",\n                value: formData.parent_id,\n                onChange: e => setFormData({\n                  ...formData,\n                  parent_id: e.target.value\n                }),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\",\n                placeholder: \"ID du parent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                setIsModalOpen(false);\n                setEditingUser(null);\n                setFormData({\n                  nom: '',\n                  prenom: '',\n                  email: '',\n                  mot_de_passe: '',\n                  role: 'eleve',\n                  classe_id: '',\n                  parent_id: ''\n                });\n              },\n              className: \"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\",\n              children: \"Annuler\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: submitting,\n              className: \"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50\",\n              children: submitting ? 'Enregistrement...' : editingUser ? 'Modifier' : 'Créer'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Toast, {\n      open: toast.open,\n      type: toast.type,\n      message: toast.message,\n      onClose: () => setToast({\n        ...toast,\n        open: false\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ConfirmDialog, {\n      open: confirm.open,\n      title: \"Confirmer la suppression\",\n      message: \"\\xCAtes-vous s\\xFBr de vouloir supprimer cet utilisateur ? Cette action est irr\\xE9versible.\",\n      onConfirm: confirmDelete,\n      onCancel: () => setConfirm({\n        open: false,\n        id: null\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n};\n_s(UserManagement, \"+M8kq6/wrnhiY3RZPeQp7QA9Z50=\");\n_c = UserManagement;\nexport default UserManagement;\nvar _c;\n$RefreshReg$(_c, \"UserManagement\");","map":{"version":3,"names":["React","useState","useEffect","Plus","Trash2","Edit","Modal","RoleBadge","getUsers","createUser","deleteUser","updateUser","Toast","ConfirmDialog","jsxDEV","_jsxDEV","UserManagement","user","_s","users","setUsers","isModalOpen","setIsModalOpen","editingUser","setEditingUser","formData","setFormData","nom","prenom","email","mot_de_passe","role","classe_id","parent_id","submitting","setSubmitting","toast","setToast","open","type","message","confirm","setConfirm","id","error","setError","loadUsers","response","data","err","console","openModal","handleSubmit","e","preventDefault","formDataObj","FormData","target","userData","get","handleDelete","userId","confirmDelete","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","map","isOpen","onClose","onSubmit","name","value","onChange","required","placeholder","disabled","title","onConfirm","onCancel","_c","$RefreshReg$"],"sources":["C:/wamp64/www/CSNDR projet/csndr-react-frontend/src/components/UserManagement.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Plus, Trash2, Edit } from 'lucide-react';\nimport Modal from './Modal';\nimport RoleBadge from './RoleBadge';\nimport { getUsers, createUser, deleteUser, updateUser } from '../services/api';\nimport Toast from './Toast';\nimport ConfirmDialog from './ConfirmDialog';\n\nconst UserManagement = ({ user }) => {\n  const [users, setUsers] = useState([]);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [editingUser, setEditingUser] = useState(null);\n  const [formData, setFormData] = useState({\n    nom: '',\n    prenom: '',\n    email: '',\n    mot_de_passe: '',\n    role: 'eleve',\n    classe_id: '',\n    parent_id: ''\n  });\n  const [submitting, setSubmitting] = useState(false);\n  const [toast, setToast] = useState({ open: false, type: 'success', message: '' });\n  const [confirm, setConfirm] = useState({ open: false, id: null });\n  const [error, setError] = useState(null);\n\n  const loadUsers = async () => {\n    try {\n      const response = await getUsers();\n      setUsers(response.data);\n    } catch (err) {\n      console.error(err);\n      setToast({ open: true, type: 'error', message: \"Erreur lors de la récupération des utilisateurs\" });\n    }\n  };\n\n  useEffect(() => {\n    loadUsers();\n  }, []);\n\n  // Ouvre le modal pour création/édition\n  const openModal = (user = null) => {\n    setEditingUser(user);\n    setFormData(user || {\n      nom: '',\n      prenom: '',\n      email: '',\n      mot_de_passe: '',\n      role: 'eleve',\n      classe_id: '',\n      parent_id: ''\n    });\n    setIsModalOpen(true);\n  };\n\n  // Gestion du formulaire\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const formDataObj = new FormData(e.target);\n    const userData = {\n      nom: formDataObj.get('nom'),\n      prenom: formDataObj.get('prenom'),\n      email: formDataObj.get('email'),\n      mot_de_passe: formDataObj.get('mot_de_passe'),\n      role: formDataObj.get('role'),\n      classe_id: formDataObj.get('classe_id') || null,\n      parent_id: formDataObj.get('parent_id') || null\n    };\n\n    try {\n      setSubmitting(true);\n      if (editingUser) {\n        // Modification d'un utilisateur existant\n        await updateUser(editingUser.id, userData);\n        setToast({ open: true, type: 'success', message: \"Utilisateur modifié avec succès\" });\n      } else {\n        // Création d'un nouvel utilisateur\n        await createUser(userData);\n        setToast({ open: true, type: 'success', message: \"Utilisateur créé avec succès\" });\n      }\n      setIsModalOpen(false);\n      setEditingUser(null);\n      setFormData({\n        nom: '',\n        prenom: '',\n        email: '',\n        mot_de_passe: '',\n        role: 'eleve',\n        classe_id: '',\n        parent_id: ''\n      });\n      loadUsers();\n    } catch (error) {\n      console.error('Erreur:', error);\n      setToast({ open: true, type: 'error', message: \"Erreur lors de la sauvegarde de l'utilisateur\" });\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Suppression d'un utilisateur\n  const handleDelete = (userId) => {\n    setConfirm({ open: true, id: userId });\n  };\n\n  const confirmDelete = async () => {\n    try {\n      const userId = confirm.id;\n      setConfirm({ open: false, id: null });\n      await deleteUser(userId);\n      await loadUsers();\n      setToast({ open: true, type: 'success', message: 'Utilisateur supprimé' });\n    } catch (err) {\n      console.error(err);\n      setToast({ open: true, type: 'error', message: 'Erreur lors de la suppression de l\\'utilisateur' });\n    }\n  };\n\n  return (\n    <div className=\"p-4 sm:p-6\">\n      <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6\">\n        <h2 className=\"text-xl sm:text-2xl font-semibold text-title\">Gestion des utilisateurs</h2>\n        <button onClick={() => openModal()} className=\"flex items-center gap-2 btn-primary mt-4 sm:mt-0\">\n          <Plus size={16} />\n          Nouvel utilisateur\n        </button>\n      </div>\n      \n      <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\">\n        {users.map(user => (\n          <div key={user.id} className=\"card border-[var(--vert-accent)]\">\n            <div className=\"flex justify-between items-start mb-4\">\n              <div>\n                <h3 className=\"text-lg sm:text-xl font-semibold text-title\">{user.prenom} {user.nom}</h3>\n                <p className=\"text-sm text-body\">{user.email}</p>\n              </div>\n              <div className=\"flex gap-2\">\n                <button onClick={() => openModal(user)} className=\"text-[var(--bleu-principal)] hover:text-opacity-80\">\n                  <Edit size={16} />\n                </button>\n                <button onClick={() => handleDelete(user.id)} className=\"text-[var(--rouge-erreur)] hover:text-opacity-80\">\n                  <Trash2 size={16} />\n                </button>\n              </div>\n            </div>\n            <div className=\"space-y-2\">\n              <RoleBadge role={user.role} />\n              <div className=\"text-sm text-body\">\n                <p>ID: {user.id}</p>\n                {user.classe_id && <p>Classe ID: {user.classe_id}</p>}\n                {user.parent_id && <p>Parent ID: {user.parent_id}</p>}\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Modal pour créer/modifier un utilisateur */}\n      <Modal isOpen={isModalOpen} onClose={() => {\n        setIsModalOpen(false);\n        setEditingUser(null);\n        setFormData({\n          nom: '',\n          prenom: '',\n          email: '',\n          mot_de_passe: '',\n          role: 'eleve',\n          classe_id: '',\n          parent_id: ''\n        });\n      }}>\n        <div className=\"p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">\n            {editingUser ? 'Modifier l\\'utilisateur' : 'Nouvel utilisateur'}\n          </h3>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Nom\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"nom\"\n                  value={formData.nom}\n                  onChange={(e) => setFormData({...formData, nom: e.target.value})}\n                  required\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                  placeholder=\"Nom de famille\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Prénom\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"prenom\"\n                  value={formData.prenom}\n                  onChange={(e) => setFormData({...formData, prenom: e.target.value})}\n                  required\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                  placeholder=\"Prénom\"\n                />\n              </div>\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Email\n              </label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                value={formData.email}\n                onChange={(e) => setFormData({...formData, email: e.target.value})}\n                required\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                placeholder=\"email@exemple.com\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Mot de passe\n              </label>\n              <input\n                type=\"password\"\n                name=\"mot_de_passe\"\n                value={formData.mot_de_passe}\n                onChange={(e) => setFormData({...formData, mot_de_passe: e.target.value})}\n                required\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                placeholder=\"Mot de passe\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Rôle\n              </label>\n              <select\n                name=\"role\"\n                value={formData.role}\n                onChange={(e) => setFormData({...formData, role: e.target.value})}\n                required\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n              >\n                <option value=\"admin\">Administrateur</option>\n                <option value=\"professeur\">Professeur</option>\n                <option value=\"parent\">Parent</option>\n                <option value=\"eleve\">Élève</option>\n              </select>\n            </div>\n            \n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Classe ID (optionnel)\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"classe_id\"\n                  value={formData.classe_id}\n                  onChange={(e) => setFormData({...formData, classe_id: e.target.value})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                  placeholder=\"ID de la classe\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Parent ID (optionnel)\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"parent_id\"\n                  value={formData.parent_id}\n                  onChange={(e) => setFormData({...formData, parent_id: e.target.value})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                  placeholder=\"ID du parent\"\n                />\n              </div>\n            </div>\n            \n            <div className=\"flex justify-end gap-2\">\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setIsModalOpen(false);\n                  setEditingUser(null);\n                  setFormData({\n                    nom: '',\n                    prenom: '',\n                    email: '',\n                    mot_de_passe: '',\n                    role: 'eleve',\n                    classe_id: '',\n                    parent_id: ''\n                  });\n                }}\n                className=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\"\n              >\n                Annuler\n              </button>\n              <button\n                type=\"submit\"\n                disabled={submitting}\n                className=\"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50\"\n              >\n                {submitting ? 'Enregistrement...' : (editingUser ? 'Modifier' : 'Créer')}\n              </button>\n            </div>\n          </form>\n        </div>\n      </Modal>\n\n      {/* Toast pour les notifications */}\n      <Toast\n        open={toast.open}\n        type={toast.type}\n        message={toast.message}\n        onClose={() => setToast({ ...toast, open: false })}\n      />\n\n      {/* Dialog de confirmation pour la suppression */}\n      <ConfirmDialog\n        open={confirm.open}\n        title=\"Confirmer la suppression\"\n        message=\"Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible.\"\n        onConfirm={confirmDelete}\n        onCancel={() => setConfirm({ open: false, id: null })}\n      />\n    </div>\n  );\n};\n\nexport default UserManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}