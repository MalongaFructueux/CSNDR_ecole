{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp64\\\\www\\\\CSNDR projet\\\\csndr-react-frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport Navigation from './components/Navigation';\nimport MessagingSystem from './components/MessagingSystem';\nimport EventsManagement from './components/EventsManagement';\nimport HomeworkManagement from './components/HomeworkManagement';\nimport GradesManagement from './components/GradesManagement';\nimport UserManagement from './components/UserManagement';\nimport ClassManagement from './components/ClassManagement';\nimport Login from './components/Login';\nimport { login as loginApi, logout as logoutApi } from './services/api';\n\n/**\n * Composant principal App - Point d'entrée de l'application\n * \n * Ce composant gère :\n * - La navigation principale de l'application\n * - L'authentification et la gestion des sessions\n * - Le routage conditionnel selon l'état de connexion\n * - L'affichage des composants selon les permissions utilisateur\n * \n * Architecture de routing :\n * - Routes publiques : /login\n * - Routes protégées : Toutes les autres routes nécessitent une authentification\n * - Redirection automatique vers /login si non authentifié\n * \n * Gestion des états :\n * - user : Informations de l'utilisateur connecté\n * - isAuthenticated : État de l'authentification\n * - loading : État de chargement\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  // États locaux pour la gestion de l'authentification\n  const [user, setUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  /**\n   * Vérification de l'authentification au montage du composant\n   * Récupère les informations utilisateur depuis le localStorage\n   */\n  useEffect(() => {\n    const checkAuth = () => {\n      const token = localStorage.getItem('token');\n      const userData = localStorage.getItem('user');\n      if (token && userData) {\n        try {\n          setUser(JSON.parse(userData));\n          setIsAuthenticated(true);\n        } catch (error) {\n          console.error('Erreur lors du parsing des données utilisateur:', error);\n          handleLogout();\n        }\n      }\n      setLoading(false);\n    };\n    checkAuth();\n  }, []);\n\n  /**\n   * Gestion de la connexion utilisateur\n   * Authentifie l'utilisateur et stocke les informations en localStorage\n   * \n   * @param {Object} credentials - Email et mot de passe\n   * @returns {Promise} - Résultat de l'authentification\n   */\n  const handleLogin = async credentials => {\n    try {\n      const response = await loginApi(credentials);\n      const {\n        token,\n        user: userData\n      } = response.data;\n\n      // Stockage des informations d'authentification\n      localStorage.setItem('token', token);\n      localStorage.setItem('user', JSON.stringify(userData));\n\n      // Mise à jour des états\n      setUser(userData);\n      setIsAuthenticated(true);\n      return {\n        success: true\n      };\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Erreur de connexion:', error);\n      return {\n        success: false,\n        error: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Erreur de connexion'\n      };\n    }\n  };\n\n  /**\n   * Gestion de la déconnexion utilisateur\n   * Nettoie les données locales et invalide le token\n   */\n  const handleLogout = async () => {\n    try {\n      // Appel API pour invalider le token côté serveur\n      if (localStorage.getItem('token')) {\n        await logoutApi();\n      }\n    } catch (error) {\n      console.error('Erreur lors de la déconnexion:', error);\n    } finally {\n      // Nettoyage des données locales\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n\n      // Réinitialisation des états\n      setUser(null);\n      setIsAuthenticated(false);\n    }\n  };\n\n  // Affichage du loader pendant la vérification de l'authentification\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-screen bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App min-h-screen bg-gray-50\",\n      children: isAuthenticated ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Navigation, {\n          user: user,\n          onLogout: handleLogout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          className: \"min-h-screen\",\n          children: /*#__PURE__*/_jsxDEV(Routes, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/\",\n              element: /*#__PURE__*/_jsxDEV(Navigate, {\n                to: \"/dashboard\",\n                replace: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 28\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/dashboard\",\n              element: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"text-2xl font-bold text-gray-900 mb-4\",\n                  children: \"Tableau de bord - Centre Scolaire Notre Dame du Rosaire\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white rounded-lg shadow-lg p-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-600\",\n                    children: [\"Bienvenue \", user === null || user === void 0 ? void 0 : user.prenom, \" \", user === null || user === void 0 ? void 0 : user.nom, \" ! Vous \\xEAtes connect\\xE9 en tant que \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold\",\n                      children: user === null || user === void 0 ? void 0 : user.role\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 153,\n                      columnNumber: 58\n                    }, this), \".\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-500 mt-2\",\n                    children: \"Utilisez la navigation ci-dessus pour acc\\xE9der aux diff\\xE9rentes fonctionnalit\\xE9s.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 17\n            }, this), (user === null || user === void 0 ? void 0 : user.role) === 'admin' && /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/users\",\n              element: /*#__PURE__*/_jsxDEV(UserManagement, {\n                user: user\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 19\n            }, this), (user === null || user === void 0 ? void 0 : user.role) === 'admin' && /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/classes\",\n              element: /*#__PURE__*/_jsxDEV(ClassManagement, {\n                user: user\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 51\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 19\n            }, this), ['admin', 'professeur', 'parent'].includes(user === null || user === void 0 ? void 0 : user.role) && /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/messages\",\n              element: /*#__PURE__*/_jsxDEV(MessagingSystem, {\n                user: user\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 52\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/events\",\n              element: /*#__PURE__*/_jsxDEV(EventsManagement, {\n                user: user\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 48\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/homework\",\n              element: /*#__PURE__*/_jsxDEV(HomeworkManagement, {\n                user: user\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 50\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/grades\",\n              element: /*#__PURE__*/_jsxDEV(GradesManagement, {\n                user: user\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 48\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"*\",\n              element: /*#__PURE__*/_jsxDEV(Navigate, {\n                to: \"/dashboard\",\n                replace: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 42\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) :\n      /*#__PURE__*/\n      /* Page de connexion si non authentifié */\n      _jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: /*#__PURE__*/_jsxDEV(Login, {\n            onLogin: handleLogin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/login\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 38\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"MIOyihIJe1jbesOAPrjh1+/HIzc=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Navigation","MessagingSystem","EventsManagement","HomeworkManagement","GradesManagement","UserManagement","ClassManagement","Login","login","loginApi","logout","logoutApi","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","user","setUser","isAuthenticated","setIsAuthenticated","loading","setLoading","checkAuth","token","localStorage","getItem","userData","JSON","parse","error","console","handleLogout","handleLogin","credentials","response","data","setItem","stringify","success","_error$response","_error$response$data","message","removeItem","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onLogout","path","element","to","replace","prenom","nom","role","includes","onLogin","_c","$RefreshReg$"],"sources":["C:/wamp64/www/CSNDR projet/csndr-react-frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport Navigation from './components/Navigation';\nimport MessagingSystem from './components/MessagingSystem';\nimport EventsManagement from './components/EventsManagement';\nimport HomeworkManagement from './components/HomeworkManagement';\nimport GradesManagement from './components/GradesManagement';\nimport UserManagement from './components/UserManagement';\nimport ClassManagement from './components/ClassManagement';\nimport Login from './components/Login';\nimport { login as loginApi, logout as logoutApi } from './services/api';\n\n/**\n * Composant principal App - Point d'entrée de l'application\n * \n * Ce composant gère :\n * - La navigation principale de l'application\n * - L'authentification et la gestion des sessions\n * - Le routage conditionnel selon l'état de connexion\n * - L'affichage des composants selon les permissions utilisateur\n * \n * Architecture de routing :\n * - Routes publiques : /login\n * - Routes protégées : Toutes les autres routes nécessitent une authentification\n * - Redirection automatique vers /login si non authentifié\n * \n * Gestion des états :\n * - user : Informations de l'utilisateur connecté\n * - isAuthenticated : État de l'authentification\n * - loading : État de chargement\n */\nfunction App() {\n  // États locaux pour la gestion de l'authentification\n  const [user, setUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  /**\n   * Vérification de l'authentification au montage du composant\n   * Récupère les informations utilisateur depuis le localStorage\n   */\n  useEffect(() => {\n    const checkAuth = () => {\n      const token = localStorage.getItem('token');\n      const userData = localStorage.getItem('user');\n      \n      if (token && userData) {\n        try {\n          setUser(JSON.parse(userData));\n          setIsAuthenticated(true);\n        } catch (error) {\n          console.error('Erreur lors du parsing des données utilisateur:', error);\n          handleLogout();\n        }\n      }\n      setLoading(false);\n    };\n\n    checkAuth();\n  }, []);\n\n  /**\n   * Gestion de la connexion utilisateur\n   * Authentifie l'utilisateur et stocke les informations en localStorage\n   * \n   * @param {Object} credentials - Email et mot de passe\n   * @returns {Promise} - Résultat de l'authentification\n   */\n  const handleLogin = async (credentials) => {\n    try {\n      const response = await loginApi(credentials);\n      const { token, user: userData } = response.data;\n      \n      // Stockage des informations d'authentification\n      localStorage.setItem('token', token);\n      localStorage.setItem('user', JSON.stringify(userData));\n      \n      // Mise à jour des états\n      setUser(userData);\n      setIsAuthenticated(true);\n      \n      return { success: true };\n    } catch (error) {\n      console.error('Erreur de connexion:', error);\n      return { \n        success: false, \n        error: error.response?.data?.message || 'Erreur de connexion' \n      };\n    }\n  };\n\n  /**\n   * Gestion de la déconnexion utilisateur\n   * Nettoie les données locales et invalide le token\n   */\n  const handleLogout = async () => {\n    try {\n      // Appel API pour invalider le token côté serveur\n      if (localStorage.getItem('token')) {\n        await logoutApi();\n      }\n    } catch (error) {\n      console.error('Erreur lors de la déconnexion:', error);\n    } finally {\n      // Nettoyage des données locales\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      \n      // Réinitialisation des états\n      setUser(null);\n      setIsAuthenticated(false);\n    }\n  };\n\n  // Affichage du loader pendant la vérification de l'authentification\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen bg-gray-50\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <Router>\n      <div className=\"App min-h-screen bg-gray-50\">\n        {/* Affichage conditionnel selon l'état d'authentification */}\n        {isAuthenticated ? (\n          <>\n            {/* Navigation principale avec informations utilisateur */}\n            <Navigation user={user} onLogout={handleLogout} />\n            \n            {/* Contenu principal avec routage */}\n            <main className=\"min-h-screen\">\n              <Routes>\n                {/* Route par défaut - Redirection vers le dashboard */}\n                <Route \n                  path=\"/\" \n                  element={<Navigate to=\"/dashboard\" replace />} \n                />\n                \n                {/* Route dashboard - Page d'accueil après connexion */}\n                <Route \n                  path=\"/dashboard\" \n                  element={\n                    <div className=\"p-6\">\n                      <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">\n                        Tableau de bord - Centre Scolaire Notre Dame du Rosaire\n                      </h1>\n                      <div className=\"bg-white rounded-lg shadow-lg p-6\">\n                        <p className=\"text-gray-600\">\n                          Bienvenue {user?.prenom} {user?.nom} ! \n                          Vous êtes connecté en tant que <span className=\"font-semibold\">{user?.role}</span>.\n                        </p>\n                        <p className=\"text-gray-500 mt-2\">\n                          Utilisez la navigation ci-dessus pour accéder aux différentes fonctionnalités.\n                        </p>\n                      </div>\n                    </div>\n                  } \n                />\n                \n                {/* Route de gestion des utilisateurs (Admin uniquement) */}\n                {user?.role === 'admin' && (\n                  <Route path=\"/users\" element={<UserManagement user={user} />} />\n                )}\n                \n                {/* Route de gestion des classes (Admin uniquement) */}\n                {user?.role === 'admin' && (\n                  <Route path=\"/classes\" element={<ClassManagement user={user} />} />\n                )}\n                \n                {/* Route de messagerie (Tous les rôles sauf élèves) */}\n                {['admin', 'professeur', 'parent'].includes(user?.role) && (\n                  <Route path=\"/messages\" element={<MessagingSystem user={user} />} />\n                )}\n                \n                {/* Route de gestion des événements (Lecture pour tous, création pour admin) */}\n                <Route path=\"/events\" element={<EventsManagement user={user} />} />\n                \n                {/* Route de gestion des devoirs (Selon les permissions) */}\n                <Route path=\"/homework\" element={<HomeworkManagement user={user} />} />\n                \n                {/* Route de gestion des notes (Selon les permissions) */}\n                <Route path=\"/grades\" element={<GradesManagement user={user} />} />\n                \n                {/* Route de fallback - Redirection vers le dashboard */}\n                <Route path=\"*\" element={<Navigate to=\"/dashboard\" replace />} />\n              </Routes>\n            </main>\n          </>\n        ) : (\n          /* Page de connexion si non authentifié */\n          <Routes>\n            <Route path=\"/login\" element={<Login onLogin={handleLogin} />} />\n            <Route path=\"*\" element={<Navigate to=\"/login\" replace />} />\n          </Routes>\n        )}\n      </div>\n    </Router>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}